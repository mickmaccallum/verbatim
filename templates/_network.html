{{ define "title" }}Network - {{ .Network.Name }}{{ end }}

{{ define "content" }}

<ol class="breadcrumb">
  <li><a href="/">Dashboard</a></li>
  <li class="active">{{ .Network.Name }} <small>- <span id="encoder-count">{{ len .Encoders }}</span> encoder(s)</small></li>
</ol>

<div class="page-header">
  <div>
    <div>
      <h3><span>{{ .Network.Name }}</span> <small>(Network Name)</small></h3>
    </div>

    <div>
      <h3><span>{{ .Network.ListeningPort }}</span> <small>(Port)</small></h3>
    </div>
  </div>
</div>

<div class="table-responsive panel panel-default">
  <div class="panel-heading">Encoders</div>

  <table class="table table-hover" id="encoder-selection-table">
    <thead>
      <tr>
        <th width="5%">#</th>
        <th width="15%">Name</th>
        <th width="15%">IP Address</th>
        <th width="15%">Port</th>
        <th width="15%">Handle</th>
        <th width="15%">Password</th>
        <th width="15%">Password</th>
        <th width="5%"></th>
      </tr>
    </thead>

    <tbody>
      <form method="POST" accept-charset="UTF-8">
        {{ .DeleteEncoderField }}
        {{range $index, $element := .Encoders }}
        <tr class="encoder-row" data-encoder-id="{{ $element.ID }}">
          <th scope=row>{{ inc $index }}</th>
          <td><span>{{ $element.Name.Value }}</span></td>
          <td><span>{{ $element.IPAddress }}</span></td>
          <td><span>{{ $element.Port }}</span></td>
          <td><span>{{ $element.Handle }}</span></td>
          <td><span>{{ $element.Password }}</span></td>
          <td>
            <p data-placement="top" data-toggle="tooltip" title="Delete">
              <button class="btn btn-danger btn-xs pull-right delete-encoder-button">
                <span class="glyphicon glyphicon-trash"></span>
              </button>
            </p>
          </td>
        </tr>
        {{ end }}
      </form>
    </tbody>
  </table>
</div>

<div class="page-header">
  <h3>Add an Encoder</h3>
</div>

<div>
  <div class="row">
    <form id="add-encoder-form" method="POST" accept-charset="UTF-8">
      {{ .AddEncoderField }}
      <input name="network_id" type="hidden" class="form-control" value="{{ .Network.ID }}">
      <div class="col-lg-4">
        <div class="input-group">
          <span class="input-group-addon">
            IP Address
          </span>

          <input name="ip_address" id="encoder-form-ip" type="text" class="form-control" placeholder="192.168.1.1">
        </div>
      </div>

      <div class="col-lg-5">
        <div class="input-group">
          <span class="input-group-addon">
            Name
          </span>

          <input name="name" id="encoder-form-name" type="text" class="form-control" placeholder="Optional">
        </div>
      </div>

      <div class="col-lg-3">
        <div class="input-group">
          <span class="input-group-addon">
            Port
          </span>

          <input name="port" id="encoder-form-port" type="text" class="form-control" placeholder="23" value="23">
        </div>
      </div>

      <div class="col-lg-4">
        <div class="input-group">
          <span class="input-group-addon">
            Handle
          </span>

          <input name="handle" id="encoder-form-handle" type="text" class="form-control" placeholder="user123">
        </div>
      </div>

      <div class="col-lg-5">
        <div class="input-group">
          <span class="input-group-addon">
            Password
          </span>

          <input name="password" id="encoder-form-password" type="text" class="form-control" placeholder="********">


          <span class="input-group-btn">
            <button id="submit-encoder" class="btn btn-default" type="button">Add Encoder</button>
          </span>
        </div>
      </div>

    </form>
  </div>
</div>

{{ end }}

{{ define "scripts"}}
<script>
  var socketURL = "{{ .SocketURL }}";
</script>
<script src="/js/websocket.js"></script>
<script src="/js/networks.js"></script>
{{ end }}
